\section{Methods}
\label{sec:methods}

\Model leverages \AFiii (particularly we used its open-source PyTorch reproduction, Protenix \cite{bytedance2025protenix}) to predict the underlying 3D conformation from a reference AFM image, and its key features can be summarized as follows. 
First, the reference AFM image is fed into a convolutional neural network (CNN), which predicts the inter-domain distances of the molecule captured in the image. 
Then, by incorporating these predicted distances as restraints into the generation process of \AFiii, a structure consistent with the reference AFM image is obtained (see \cref{fig:overview} (a)).

In this section, we present our methodology in three parts. 
In \cref{subsec:se2cnn}, we describe how the CNN process AFM images to extract the inter-domain distances. 
In \cref{subsec:guided-diffusion}, we explain how we restrained the diffusion process of \AFiii using the predicted inter-domain distances. 
Finally in \cref{subsec:model}, we explain the overall framework of \Model, including how we prepare the training data for the CNN, train it, and perform prediction.

\input{sections/cnn.tex}
\input{sections/af3.tex}
\input{sections/afmfold.tex}
